// utility
// forces a px unit
px(num)
  num + 0px
rem(num)
  num + 0rem

.text-style-normal
  font-style normal
.text-light
  font-weight 300 !important
.text-normal
  font-weight 400 !important
.text-semibold
  font-weight 600 !important
.text-small-caps
  font-variant small-caps !important
.text-dark-color
  color #333 !important

for i in 1..15
  .text-{i}x
    font-size rem(i) !important
  .spacer-{i * 5}
    display block
    height px(i * 5)
    width 100%
.no-margin-bottom
  margin-bottom 0 !important
.no-padding
  padding 0 !important
.no-padding-bottom
  padding-bottom 0 !important
.no-padding-top
  padding-top 0 !important
.no-padding-sides
  padding-left 0 !important
  padding-right 0 !important
  &.row
    .col-sm-4, .col-sm-6 ,.col-sm-8
      @extend .no-padding-sides
.line-1p5
  line-height 1.5 !important
.box-shadow
  box-shadow none
  // no box shadow for now
  // box-shadow 0px 1px 6px black
.pos-sticky
  position: sticky !important;
.flexbox .flex-center
  display flex
  align-items center
  justify-content center
  text-align center
.no-flexbox .flex-center
  position relative
  & > *
    display block
    text-align center
    position absolute
    top 30%
    left 0
    right 0
.before-bg
  background transparent
.before-bg::before
  content ''
  display block
  z-index -1
  position absolute
  top 0
  bottom 0
  left 0
  right 0
.transparent-bg
  background transparent !important
  color #eee !important;
.cc-before-bg
  @extend .transparent-bg
.cc-before-bg::before
  @extend .before-bg::before
  background url('/img/ccenter.jpg')
.dark-bg
  background #333 !important
  color #eee !important
.darker-bg
  background #282828 !important
  color #eee !important
.light-bg
  background #eee !important
  color #333 !important
.white-bg
  background #fff !important
  color #333 !important
.dark-tint-bg
  background rgba(black,0.3) !important
  color #eee !important
.logo
  font-weight 300
  text-transform uppercase
  .leung, .enterprises
    display block
  .leung
    position relative
    top 8px
    font-size 48px
  .enterprises
    font-size 25px
  @media (min-width: 768px)
    .leung
      top 17px
      font-size 96px
    .enterprises
      font-size 50px


// elements
.panel
  color #333
  border-radius 0
  padding 30px
.btn
  font-weight 300
  border-radius 0
  transition all 0.3s
.btn-transparent
  border 1px solid #eee
  background transparent
  color #eee
  &:hover, &:focus, &:active
    border 1px solid #eee
    background #eee
    color #333
.btn-transparent-dark
  border 1px solid #333
  background transparent
  color #333
  &:hover, &:focus, &:active
    border 1px solid #333
    background #333
    color #eee
.row.nopadding
  & > .col-sm-4
    padding 0
label
  font-weight 300
  text-transform lowercase
  font-variant small-caps
  &.required::after
    content '\00a0*'
    display inline-block
    color red
.form-control
  border-radius 0
  box-shadow none
  border 1px solid #ddd
  transition all 0.3s
  color #333
  &:focus
    box-shadow none
    outline 0
    outline-style none
    background #fff
    border 1px solid #ddd
    border-bottom 1px solid #333

// scaffolding
html, body
  height 100%

body
  font-family 'Open Sans', sans-serif
  font-weight 300
  overflow hidden // for preloader, will change in js
  background black // chrome has a bug, see http://stackoverflow.com/questions/19986617/remove-white-line-in-chrome

#loader-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: #eee;
  z-index: 99;
}
#loader {
  width: 40px;
  height: 40px;
  background-color: #333;

  margin: 100px auto;
  -webkit-animation: sk-rotateplane 1.2s infinite ease-in-out;
  animation: sk-rotateplane 1.2s infinite ease-in-out;
}
@keyframes sk-rotateplane {
  0% {
    transform: perspective(120px) rotateX(0deg) rotateY(0deg);
  } 50% {
    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);
  } 100% {
    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);
  }
}

navbar_height = 150px
header.mobile
  display block
  transition all 0.3s
  &.unscrolled
    background transparent
    border-bottom 0
    ul.nav.navbar-nav
      background #333
      margin-top 0
  @media (min-width: 768px)
    display none
  .navbar-toggle
    border 0
    border-radius 0
    &:hover, &:focus, &:active
      background transparent
  .navbar-brand
    text-transform uppercase
    color white
    font-weight 400
  ul.nav.navbar-nav > li > a
    text-transform uppercase
    text-align center
    letter-spacing 0.12rem
header.desktop
  display none
  @media (min-width: 768px)
    display block
  z-index 1
  position fixed
  left 0
  right 0
  transition all 0.3s
  navbar_small_height = 75px
  &.open
    background #222
    .header-nav
      margin-bottom 0
      & > li > a
        transition all 0.3s
        font-size 14px
        height navbar_small_height
        line-height navbar_small_height
        position relative
        top -6px
        &:not(.brand):not(.brand-open)
          &::after
            display none
        &.brand
          display none
        &.brand-open
          display block
  &.header-not-home, .no-js &
    @extend header.desktop.open
  .header-nav
    list-style-type none
    & > li
      display inline-block
      height 100%
      &.active > a
        color white
      & > a
        text-transform uppercase
        font-variant small-caps
        display inline-block
        height navbar_height
        line-height navbar_height
        margin: 0px 30px
        color #ccc
        vertical-align middle
        font-size 18px
        font-weight 300
        transition all 0.3s
        &:not(.brand):not(.brand-open)
          letter-spacing 2px
          &::after
            content ''
            // display block
            // disable the underline effect
            display: none
            height 1px
            background #fff
            width 100%
            transform scaleX(0)
            visibility hidden // fallback
            position relative
            top -60px
            transition all 0.5s
          &:hover, &:focus, &:active
            color white
            outline 0
            &::after
              visibility visible
              transform scaleX(1)
        &.brand-open
          display none
          font-size 44px
          position relative
          top 5px
        &.brand
          logo_scale = 1
          text-transform uppercase
          color white
          #leung
            font-size 48px * logo_scale
            position relative
            top -15px
          #enterprises
            font-size 25px * logo_scale
            position relative
            top -144px
        &:hover, &:focus, &:active
          text-decoration none
          outline 0

.jumbotron
  &.half-page
    margin-bottom 0
    min-height 60vh
    background #fff
    color #333
  &.full-page
    margin-bottom 0
    min-height 100vh
    color #eee
    background transparent
    &.landing
      display flex
      align-items center
      justify-content center
      text-align center
      position relative // for .paginate
      &::before
        content ''
        display block
        z-index -1
        position absolute
        top 0
        bottom 0
        left 0
        right 0
        // background url('/img/ccenter.jpg') - comcast center
        // background url('//i.imgur.com/SaO11vo.jpg') - red canyon
        // background url('http://i.imgur.com/4zeugpC.jpg') - galaxy
        /*
        background linear-gradient(
                     rgba(0,0,0,0.2),
                     rgba(0,0,0,0.2)
                   ),
                   url('/img/startrails.jpg') // - galaxy
        */
      .paginate
        position absolute
        bottom 0
        left 0
        right 0
        padding-bottom 48px
        a
          color white
          &:hover, &:focus, &:active
            border none
            outline none

.portfolio-link:hover
  text-decoration none
#saffron
  background-repeat no-repeat
  background url('/img/saffron.jpg')
#ase
  background-repeat no-repeat
  background url('/img/ashe.jpg')
#neo
  background-repeat no-repeat
  background url('/img/neoscreen.jpg')
#track
  background-repeat no-repeat
  background url('/img/track.png')
#your
  background-repeat no-repeat
  background url('http://i.imgur.com/pO2dX3b.jpg?1')
#saffron, #ase, #neo, #track, #your
  width 100%
  height 180px // on mobile devices
  @media (min-width: 768px)
    height 220px // on desktops
  background-size cover
  background-position top center
  @media (min-width: 768px)
    &.size-1p5x
      height 330px
    &.size-2x
      height 440px
  .overlay
    @extend .flexbox .flex-center
    height 100%
    width 100%
    color #eee
    background rgba(black, 0.85);
    opacity 0
    transition all 0.3s
  &:hover .overlay
    opacity 1

.visit-website
  display block
  width 150px
  margin 0 auto
  @media (min-width: 768px)
    display inline-block
    width auto
    text-align left

.testimonial-container
  font-size 4rem !important // override jumbotron css
  .testimonial
    font-style italic
    margin-top 30px
    font-size 4rem
    display inline-block
  .quote-left
    font-size 15rem
    display inline-block
    margin-right 15px

.quote-left::before
  content '\201C'
  display inline-block
  font-family: 'Times New Roman', sans-serif

.social-row a
  color #333
  margin-right 15px
  font-size 20px
  &:hover
    text-decoration none

footer.jumbotron
  padding-top 15px
  padding-bottom 0px
  a
    color #eee
    &:hover
      text-decoration none
  .row.darker-bg
    margin-top 15px
  .classy
    animation rainbowText
    animation rainbowText 5s infinite
    animation-timing-function linear

.nav-bottom
  padding 30px
  & > li > a
    color #aaa
    transition all 0.3s
    &:hover, &:focus, &:active
      background transparent
      color #fff

// animations/effects
@keyframes pan
  0%, 100%
    background-position top left
  50%
    background-position bottom right
.background-pan
  background-size cover !important
  background-position top left
  animation pan 60s infinite !important
  animation-timing-function linear !important
.background-before-pan::before
  background-size cover !important
  background-position top left
  animation pan 60s infinite !important
  animation-timing-function linear !important
.background-before-pan-30::before
  background-size cover !important
  background-position top left
  animation pan 30s infinite !important
  animation-timing-function linear !important
@keyframes rainbowText
  0%, 100%
    color salmon
  17%
    color orange
  33%
    color yellow
  50%
    color lime
  67%
    color lightblue
  83%
    color magenta
